# 导出功能设计文档

## 功能概述

添加查询结果导出功能，支持将 SQL 查询结果导出为 CSV 和 JSON 以及 XLSX 格式文件。

## 功能需求

### 导出格式
| 格式 | 适用场景 | 说明 |
|------|----------|------|
| CSV | Excel 分析、数据处理 | 逗号分隔，UTF-8 编码，首行为列名 |
| JSON | API 对接、程序处理 | 数组格式，每行一个对象 |
| XLSX  | 方便使用Excel的高级功能 | spreadshhet格式 |

### 用户交互方式

**方式一：工具栏按钮**
- 在查询结果表格上方添加「导出」下拉按钮
- 选项：导出 CSV / 导出 JSON / 导出EXCELX
- 仅在有查询结果时启用


**方式二：通过自然语言触发**
- 如果在自然语言那里明确了需要导出数据，且告知什么格式，生成SQL后就会自动执行，并且导出文件。


## 技术方案

### 前端来实现
```
优点：无需后端改动，即时响应
流程：查询结果 → 格式化 → Blob → 下载
```

## 文件命名规则

```
{数据库名}_{时间戳}.{格式}
示例：mydb_20251229_153000.扩展名
```